# üè¶ Grigolli Bank - Guia Completo de Instala√ß√£o e Testes

## üöÄ INSTALA√á√ÉO EM NOVO PC - PASSO A PASSO COMPLETO

### 1. üìã Pr√©-requisitos do Sistema

#### 1.1 Software Necess√°rio
```bash
# PHP 8.1 ou superior
php --version

# Composer (gerenciador de depend√™ncias PHP)
composer --version

# MySQL 8.0 ou MariaDB 10.3+
mysql --version

# Node.js 16+ (para assets)
node --version
npm --version

# Git (para clonar reposit√≥rio)
git --version
```

#### 1.2 Instala√ß√£o no Windows (WAMP/XAMPP)
```bash
# 1. Baixar e instalar WAMP Server
# https://www.wampserver.com/en/

# 2. Ou baixar e instalar XAMPP
# https://www.apachefriends.org/

# 3. Instalar Composer
# https://getcomposer.org/download/

# 4. Instalar Node.js
# https://nodejs.org/
```

#### 1.3 Instala√ß√£o no Linux (Ubuntu/Debian)
```bash
# Atualizar sistema
sudo apt update && sudo apt upgrade -y

# Instalar PHP e extens√µes
sudo apt install php8.1 php8.1-cli php8.1-mysql php8.1-xml php8.1-mbstring php8.1-curl php8.1-zip php8.1-bcmath php8.1-gd

# Instalar MySQL
sudo apt install mysql-server

# Instalar Composer
curl -sS https://getcomposer.org/installer | php
sudo mv composer.phar /usr/local/bin/composer

# Instalar Node.js
curl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash -
sudo apt-get install -y nodejs
```

### 2. üóÑÔ∏è Configura√ß√£o do Banco de Dados

#### 2.1 Criar Banco de Dados
```sql
-- Conectar ao MySQL
mysql -u root -p

-- Criar banco de dados
CREATE DATABASE lexxen CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;

-- Criar usu√°rio (opcional, pode usar root)
CREATE USER 'lexxen_user'@'localhost' IDENTIFIED BY 'sua_senha_aqui';
GRANT ALL PRIVILEGES ON lexxen.* TO 'lexxen_user'@'localhost';
FLUSH PRIVILEGES;

-- Sair do MySQL
EXIT;
```

#### 2.2 Configurar Arquivo .env
```bash
# Copiar arquivo de exemplo
cp .env.example .env

# Editar arquivo .env com suas configura√ß√µes
# DB_CONNECTION=mysql
# DB_HOST=127.0.0.1
# DB_PORT=3306
# DB_DATABASE=lexxen
# DB_USERNAME=root
# DB_PASSWORD=sua_senha_aqui
```

### 3. üì• Instala√ß√£o do Projeto

#### 3.1 Clonar/Transferir Projeto
```bash
# Op√ß√£o 1: Se estiver em reposit√≥rio Git
git clone https://github.com/seu-usuario/lexxen.git
cd lexxen

# Op√ß√£o 2: Se estiver transferindo arquivos
# Copiar pasta do projeto para o novo PC
# Navegar at√© a pasta do projeto
cd /caminho/para/lexxen
```

#### 3.2 Instalar Depend√™ncias
```bash
# Instalar depend√™ncias PHP
composer install

# Instalar depend√™ncias Node.js
npm install

# Gerar chave da aplica√ß√£o
php artisan key:generate

# Configurar cache
php artisan config:cache
php artisan route:cache
php artisan view:cache
```

#### 3.3 Executar Migrations e Seeders
```bash
# Executar migrations (criar tabelas)
php artisan migrate

# Executar seeders (dados de teste)
php artisan db:seed

# Verificar se tudo foi criado
php artisan migrate:status
```

#### 3.4 Configurar Permiss√µes (Linux)
```bash
# Dar permiss√µes para storage e cache
sudo chown -R www-data:www-data storage bootstrap/cache
sudo chmod -R 775 storage bootstrap/cache
```

### 4. üöÄ Iniciar Aplica√ß√£o

#### 4.1 Servidor de Desenvolvimento
```bash
# Iniciar servidor Laravel
php artisan serve

# Acessar no navegador
# http://localhost:8000
```

#### 4.2 Servidor de Produ√ß√£o (Apache/Nginx)
```bash
# Configurar virtual host apontando para pasta public/
# DocumentRoot: /caminho/para/lexxen/public

# Reiniciar servidor web
sudo systemctl restart apache2  # Apache
sudo systemctl restart nginx    # Nginx
```

### 5. ‚úÖ Verifica√ß√£o da Instala√ß√£o

#### 5.1 Testar Conex√£o com Banco
```bash
# Testar conex√£o
php artisan tinker
>>> DB::connection()->getPdo();
>>> User::count();
>>> ContaBancaria::count();
>>> Carteira::count();
>>> exit
```

#### 5.2 Verificar Dados de Teste
```bash
# Verificar usu√°rios criados
php artisan tinker
>>> User::all(['id', 'email', 'tipo_usuario', 'status_aprovacao']);
>>> exit
```

#### 5.3 Testar Aplica√ß√£o
```bash
# Acessar URLs principais
# http://localhost:8000 (login)
# http://localhost:8000/dashboard (ap√≥s login)
# http://localhost:8000/conta (minhas contas)
```

### 6. üîß Comandos √öteis para Manuten√ß√£o

#### 6.1 Comandos de Cache
```bash
# Limpar todos os caches
php artisan cache:clear
php artisan config:clear
php artisan route:clear
php artisan view:clear

# Recriar caches
php artisan config:cache
php artisan route:cache
php artisan view:cache
```

#### 6.2 Comandos de Banco de Dados
```bash
# Ver status das migrations
php artisan migrate:status

# Reverter √∫ltima migration
php artisan migrate:rollback

# Reverter todas as migrations
php artisan migrate:reset

# Executar migrations espec√≠ficas
php artisan migrate --path=/database/migrations/2024_01_01_000000_create_users_table.php

# Executar seeders espec√≠ficos
php artisan db:seed --class=UserSeeder
```

#### 6.3 Comandos de Debug
```bash
# Ver logs em tempo real
tail -f storage/logs/laravel.log

# Limpar logs
php artisan log:clear

# Ver rotas registradas
php artisan route:list

# Ver configura√ß√µes
php artisan config:show
```

### 7. üö® Solu√ß√£o de Problemas Comuns

#### 7.1 Erro de Permiss√£o (Linux)
```bash
# Problema: Permission denied
# Solu√ß√£o:
sudo chown -R www-data:www-data storage bootstrap/cache
sudo chmod -R 775 storage bootstrap/cache
```

#### 7.2 Erro de Conex√£o com Banco
```bash
# Problema: Connection refused
# Solu√ß√£o:
# 1. Verificar se MySQL est√° rodando
sudo systemctl status mysql

# 2. Verificar configura√ß√µes no .env
cat .env | grep DB_

# 3. Testar conex√£o
php artisan tinker
>>> DB::connection()->getPdo();
```

#### 7.3 Erro de Chave de Aplica√ß√£o
```bash
# Problema: No application encryption key has been specified
# Solu√ß√£o:
php artisan key:generate
php artisan config:cache
```

#### 7.4 Erro de Depend√™ncias
```bash
# Problema: Class not found
# Solu√ß√£o:
composer dump-autoload
composer install --no-dev --optimize-autoloader
```

#### 7.5 Erro de Migrations
```bash
# Problema: Migration failed
# Solu√ß√£o:
# 1. Verificar logs
tail -f storage/logs/laravel.log

# 2. Verificar status
php artisan migrate:status

# 3. Executar migrations espec√≠ficas
php artisan migrate --force
```

### 8. üì¶ Backup e Restaura√ß√£o

#### 8.1 Backup do Banco de Dados
```bash
# Criar backup
mysqldump -u root -p lexxen > backup_lexxen_$(date +%Y%m%d_%H%M%S).sql

# Restaurar backup
mysql -u root -p lexxen < backup_lexxen_20241218_143000.sql
```

#### 8.2 Backup dos Arquivos
```bash
# Criar backup da aplica√ß√£o
tar -czf lexxen_backup_$(date +%Y%m%d_%H%M%S).tar.gz /caminho/para/lexxen

# Excluir node_modules e vendor do backup
tar -czf lexxen_backup_$(date +%Y%m%d_%H%M%S).tar.gz \
    --exclude=node_modules \
    --exclude=vendor \
    --exclude=storage/logs \
    /caminho/para/lexxen
```

### 9. üåê Configura√ß√£o para Produ√ß√£o

#### 9.1 Configura√ß√µes de Seguran√ßa
```bash
# No arquivo .env para produ√ß√£o:
APP_ENV=production
APP_DEBUG=false
APP_URL=https://seudominio.com

# Configurar HTTPS
# Configurar firewall
# Configurar SSL
```

#### 9.2 Otimiza√ß√µes de Performance
```bash
# Otimizar autoloader
composer install --optimize-autoloader --no-dev

# Otimizar caches
php artisan config:cache
php artisan route:cache
php artisan view:cache

# Otimizar banco de dados
# Adicionar √≠ndices necess√°rios
# Configurar query cache
```

---

## üìã Pr√©-requisitos (Para Testes)

### 1. Configura√ß√£o do Banco de Dados
```bash
# 1. Configurar arquivo .env com dados do banco
# 2. Executar migrations
php artisan migrate

# 3. Executar seeders (dados de teste)
php artisan db:seed

# 4. Iniciar servidor
php artisan serve
```

### 2. Verifica√ß√µes
- Sistema rodando em `http://localhost:8000`
- Usu√°rios de teste criados (admin e clientes)
- Banco de dados configurado

### 3. Comandos de Configura√ß√£o Completa
```bash
# Instalar depend√™ncias
composer install

# Configurar ambiente
cp .env.example .env
php artisan key:generate

# Configurar banco de dados no .env
# DB_CONNECTION=mysql
# DB_HOST=127.0.0.1
# DB_PORT=3306
# DB_DATABASE=lexxen
# DB_USERNAME=root
# DB_PASSWORD=

# Executar migrations
php artisan migrate

# Executar seeders
php artisan db:seed

# Iniciar servidor
php artisan serve
```

### 4. Verificar Instala√ß√£o
```bash
# Verificar se migrations foram executadas
php artisan migrate:status

# Verificar se seeders foram executados
php artisan tinker
>>> User::count()
>>> ContaBancaria::count()
>>> Carteira::count()
```

---

## üîê 1. Acesso ao Sistema

### 1.1 Login como Administrador
```
URL: http://localhost:8000
Email: grigolli@bank.com
Senha: 12345678
```

### 1.2 Login como Cliente
```
URL: http://localhost:8000
Email: maria.silva@example.com
Senha: password
```

---

## üë®‚Äçüíº 2. Funcionalidades do Administrador

### 2.1 Aprovar Usu√°rios
1. **Acesse**: Dashboard do Admin
2. **Clique**: "Usu√°rios" no menu
3. **Filtre**: Status "Aguardando Aprova√ß√£o"
4. **Aprove**: Usu√°rios pendentes
5. **Verifique**: Status mudou para "Aprovado"

### 2.2 Gerenciar Contas Banc√°rias
1. **Acesse**: "Pessoa F√≠sica" ou "Pessoa Jur√≠dica"
2. **Visualize**: Lista de usu√°rios
3. **Clique**: Em um usu√°rio espec√≠fico
4. **Aprove/Bloqueie**: Contas banc√°rias
5. **Verifique**: Status atualizado

### 2.3 Visualizar Estat√≠sticas
1. **Dashboard**: Mostra totais gerais
2. **Gr√°ficos**: Usu√°rios ativos, contas, etc.
3. **Filtros**: Por tipo de usu√°rio e status

---

## üë§ 3. Funcionalidades do Cliente

### 3.1 Visualizar Minha Carteira
1. **Login**: Como cliente
2. **Dashboard**: Visualiza contas e saldos
3. **Verifique**: 
   - Contas ATIVAS mostram saldo real
   - Contas BLOQUEADAS mostram R$ 0,00
   - Contas AGUARDANDO mostram R$ 0,00

### 3.2 Abrir Nova Carteira
1. **Clique**: "Abrir Nova Carteira"
2. **Selecione**: Tipo (Corrente PF, Poupan√ßa PF, etc.)
3. **Confirme**: Abertura da carteira
4. **Verifique**: Nova carteira aparece como "Aguardando Aprova√ß√£o"
5. **Saldo**: Deve mostrar R$ 0,00

### 3.3 Realizar Transfer√™ncias

#### 3.3.1 Entre Minhas Carteiras
1. **Clique**: "Transferir" em uma conta ativa
2. **Selecione**: "Entre Minhas Carteiras"
3. **Escolha**: Carteira de destino
4. **Digite**: Valor e descri√ß√£o
5. **Confirme**: Transfer√™ncia
6. **Verifique**: Saldos atualizados

#### 3.3.2 Para Outros Usu√°rios
1. **Clique**: "Transferir" em uma conta ativa
2. **Selecione**: "Para Outros"
3. **Digite**: Ag√™ncia e conta de destino
4. **Aguarde**: Nome do benefici√°rio aparecer
5. **Digite**: Valor e descri√ß√£o
6. **Confirme**: Transfer√™ncia
7. **Verifique**: Transfer√™ncia processada

### 3.4 Consultar Extrato

#### 3.4.1 Extrato Geral
1. **Menu**: "Extrato" ‚Üí "Extrato Geral"
2. **Filtros**: Por carteira, tipo, per√≠odo
3. **Visualize**: Todas as transa√ß√µes
4. **Verifique**: Contas de origem e destino mostradas

#### 3.4.2 Extrato por Carteira
1. **Clique**: "Extrato" em uma carteira espec√≠fica
2. **Filtros**: Por tipo e per√≠odo
3. **Visualize**: Transa√ß√µes da carteira
4. **Verifique**: Informa√ß√µes detalhadas

---

## üß™ 4. Cen√°rios de Teste

### 4.1 Teste de Saldos
**Objetivo**: Verificar se saldos s√£o exibidos corretamente

1. **Conta ATIVA**: Deve mostrar saldo real
2. **Conta BLOQUEADA**: Deve mostrar R$ 0,00
3. **Conta AGUARDANDO**: Deve mostrar R$ 0,00
4. **Nova carteira**: Deve come√ßar com R$ 0,00

### 4.2 Teste de Transfer√™ncias
**Objetivo**: Verificar se transfer√™ncias funcionam corretamente

1. **Entre carteiras**: Saldo deve ser transferido
2. **Para outros**: Deve processar imediatamente
3. **Valida√ß√µes**: Saldo insuficiente, conta inexistente
4. **Extrato**: Deve registrar transfer√™ncias

### 4.3 Teste de Aprova√ß√£o
**Objetivo**: Verificar fluxo de aprova√ß√£o

1. **Cliente**: Abre nova carteira
2. **Admin**: Aprova a carteira
3. **Cliente**: Verifica que carteira est√° ativa
4. **Saldo**: Deve continuar R$ 0,00

### 4.4 Teste de Busca de Benefici√°rio
**Objetivo**: Verificar busca em tempo real

1. **Digite**: Ag√™ncia (ex: 1981)
2. **Digite**: Conta (ex: 75604-08)
3. **Aguarde**: 500ms ap√≥s parar de digitar
4. **Verifique**: Nome do benefici√°rio aparece
5. **Teste**: Conta inexistente (n√£o deve aparecer)

---

## üîç 5. Verifica√ß√µes Importantes

### 5.1 Saldos Corretos
- ‚úÖ Contas ativas: Saldo real
- ‚úÖ Contas bloqueadas: R$ 0,00
- ‚úÖ Contas aguardando: R$ 0,00
- ‚úÖ Novas carteiras: R$ 0,00

### 5.2 Transfer√™ncias
- ‚úÖ Processamento imediato
- ‚úÖ Valida√ß√µes funcionando
- ‚úÖ Extrato atualizado
- ‚úÖ Saldos sincronizados

### 5.3 Interface
- ‚úÖ Responsiva (mobile/desktop)
- ‚úÖ Mensagens de erro claras
- ‚úÖ Confirma√ß√µes de sucesso
- ‚úÖ Loading states

### 5.4 Seguran√ßa
- ‚úÖ Apenas donos veem suas contas
- ‚úÖ Valida√ß√µes no backend
- ‚úÖ Transa√ß√µes at√¥micas

---

## üêõ 6. Problemas Conhecidos e Solu√ß√µes

### 6.1 Problemas de Migra√ß√£o
**Problema**: Erro ao executar `php artisan migrate`
**Solu√ß√£o**: 
```bash
# Verificar status das migrations
php artisan migrate:status

# Executar migrations pendentes
php artisan migrate

# Se houver erro, verificar logs
tail -f storage/logs/laravel.log
```

### 6.2 Problemas de Banco de Dados
**Problema**: "Connection refused" ou "Access denied"
**Solu√ß√£o**: 
```bash
# Verificar configura√ß√£o no .env
# Testar conex√£o
php artisan tinker
>>> DB::connection()->getPdo();
```

### 6.3 Problemas de Seeder
**Problema**: Dados de teste n√£o foram criados
**Solu√ß√£o**:
```bash
# Executar seeders espec√≠ficos
php artisan db:seed --class=UserSeeder
php artisan db:seed --class=ContaBancariaSeeder
php artisan db:seed --class=CarteiraSeeder
```

### 6.4 Saldo Incorreto
**Problema**: Conta mostra saldo de outra carteira
**Solu√ß√£o**: Verificar se conta tem carteira espec√≠fica (com ag√™ncia/conta no nome)

### 6.5 Transfer√™ncia Falha
**Problema**: "Conta de destino n√£o encontrada"
**Solu√ß√£o**: Verificar se conta est√° ativa e ag√™ncia/conta est√£o corretos

### 6.6 Benefici√°rio N√£o Aparece
**Problema**: Nome n√£o aparece ao digitar conta
**Solu√ß√£o**: Verificar se conta existe e est√° ativa

---

## üìû 7. Contatos de Suporte

- **Desenvolvedor**: Sistema Grigolli Bank
- **Vers√£o**: 1.0
- **√öltima atualiza√ß√£o**: 18/09/2025

---

## üéØ 8. Checklist de Testes

### Funcionalidades B√°sicas
- [ ] Login admin
- [ ] Login cliente
- [ ] Visualizar dashboard
- [ ] Aprovar usu√°rios
- [ ] Gerenciar contas

### Transfer√™ncias
- [ ] Entre carteiras
- [ ] Para outros usu√°rios
- [ ] Valida√ß√µes de saldo
- [ ] Busca de benefici√°rio

### Extratos
- [ ] Extrato geral
- [ ] Extrato por carteira
- [ ] Filtros funcionando
- [ ] Contas origem/destino

### Saldos
- [ ] Contas ativas (saldo real)
- [ ] Contas bloqueadas (R$ 0,00)
- [ ] Contas aguardando (R$ 0,00)
- [ ] Novas carteiras (R$ 0,00)

---

---

## üöÄ CHECKLIST R√ÅPIDO - INSTALA√á√ÉO EM NOVO PC

### ‚úÖ Pr√©-requisitos
- [ ] PHP 8.1+ instalado
- [ ] Composer instalado
- [ ] MySQL/MariaDB instalado
- [ ] Node.js instalado (opcional)
- [ ] Git instalado (opcional)

### ‚úÖ Configura√ß√£o
- [ ] Banco de dados criado
- [ ] Arquivo .env configurado
- [ ] Projeto transferido/clonado
- [ ] Depend√™ncias instaladas (`composer install`)
- [ ] Chave da aplica√ß√£o gerada (`php artisan key:generate`)

### ‚úÖ Migrations e Dados
- [ ] Migrations executadas (`php artisan migrate`)
- [ ] Seeders executados (`php artisan db:seed`)
- [ ] Conex√£o com banco testada
- [ ] Dados de teste verificados

### ‚úÖ Aplica√ß√£o
- [ ] Servidor iniciado (`php artisan serve`)
- [ ] Aplica√ß√£o acess√≠vel (http://localhost:8000)
- [ ] Login funcionando
- [ ] Dashboard carregando
- [ ] Funcionalidades b√°sicas testadas

### ‚úÖ Troubleshooting
- [ ] Logs verificados (storage/logs/laravel.log)
- [ ] Permiss√µes configuradas (Linux)
- [ ] Cache limpo se necess√°rio
- [ ] Depend√™ncias atualizadas

---

## üìû Suporte e Contatos

- **Projeto**: Grigolli Bank
- **Vers√£o**: 1.0
- **Framework**: Laravel 10
- **Banco**: MySQL 8.0+
- **√öltima atualiza√ß√£o**: 18/12/2024

### üîó Links √öteis
- [Laravel Documentation](https://laravel.com/docs)
- [Composer Documentation](https://getcomposer.org/doc/)
- [MySQL Documentation](https://dev.mysql.com/doc/)
- [Bootstrap Documentation](https://getbootstrap.com/docs/)

---

**‚úÖ Sistema pronto para uso em produ√ß√£o!**

